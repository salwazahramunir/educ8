<!DOCTYPE html>
<html lang="en">
    <%- include('../partials/header', { title: "Edit Course" }) %> 
<body>
    <%- include('../partials/navbar') %> 
    <div class="container mt-4 mb-4">
        <center><h4>Edit Course</h4></center>
        <hr>

        <% if(errors) { %>
            <div class="alert alert-warning" role="alert">
                <% errors.split(",").forEach(el => { %>
                    <%= el %> <br>
                <% }) %> 
            </div>
        <% } %> 

        <form action="/courses/<%= course.id %>/edit" method="post" autocomplete="off">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                      <label for="name">Name Of a Course</label>
                      <input type="text" name="name" class="form-control" id="email" value="<%= course.name %>">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="imageUrl">Image Url</label>
                        <input type="text" name="imageUrl" class="form-control" id="imageUrl" value="<%= course.imageUrl %>">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                      <label for="price">Price</label>
                      <input type="number" name="price" class="form-control" id="price" value="<%= course.price %>">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="duration">Duration</label>
                        <input type="number" name="duration" class="form-control" id="duration" value="<%= course.duration %>">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                      <label for="description">Description</label>
                      <textarea name="description" id="description" cols="30" rows="5" class="form-control"><%= course.description %></textarea>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="category">Category</label>
                        <select name="category" id="category" class="form-control">
                            <option disabled selected>--- Select Category ---</option>
                        <% ["IT and Software", "Business", "Photography and Video", "Health and Fitness", "Music" ].forEach(c => { %>
                            <option value="<%= c %>" <%= c === course.category ? "selected" : " " %>><%= c %></option>
                        <% }) %> 
                        </select>
                    </div>
                </div>
            </div>
            <div class="form-group mt-3">
                <a href="/courses" class="btn btn-danger btn-sm">Cancel</a>
                <button type="submit" class="btn btn-primary btn-sm float-right">Update</button>
            </div>
        </form>
    </div>
    <%- include('../partials/footer') %> 
</body>
</html>